"use client";

import { useEffect, useState, useRef, type CSSProperties } from "react";
import "./LogoLoader.css";

export function LogoLoader({ duration = 3000 }: { duration?: number }) {
  const [phase, setPhase] = useState<"animating" | "flying" | "done">("animating");
  const [flyStyle, setFlyStyle] = useState<CSSProperties>({});
  const wrapperRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    const exitTimer = setTimeout(() => {
      const heroLogo = document.getElementById("hero-logo");
      const wrapper = wrapperRef.current;

      if (heroLogo && wrapper) {
        const from = wrapper.getBoundingClientRect();
        const to = heroLogo.getBoundingClientRect();

        const scaleX = to.width / from.width;
        const scaleY = to.height / from.height;
        const scale = Math.min(scaleX, scaleY);

        const dx = to.left + to.width / 2 - (from.left + from.width / 2);
        const dy = to.top + to.height / 2 - (from.top + from.height / 2);

        setFlyStyle({
          transform: `translate(${dx}px, ${dy}px) scale(${scale})`,
          transition: "transform 0.8s cubic-bezier(0.4, 0, 0.2, 1)",
        });
        setPhase("flying");

        setTimeout(() => {
          setPhase("done");
          window.dispatchEvent(new Event("loader-complete"));
        }, 800);
      } else {
        setPhase("flying");
        setTimeout(() => {
          setPhase("done");
          window.dispatchEvent(new Event("loader-complete"));
        }, 800);
      }
    }, duration);

    return () => clearTimeout(exitTimer);
  }, [duration]);

  if (phase === "done") return null;

  const isFlying = phase === "flying";

  return (
    <div className={`loader-container ${isFlying ? "flying" : ""}`}>
      <div
        className="logo-wrapper"
        ref={wrapperRef}
        style={isFlying ? flyStyle : undefined}
      >
        <svg
          width="504"
          height="442"
          viewBox="0 0 504 442"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          className="logo-svg"
        >
          {/* Left wing */}
          <path
            className="logo-path path-left-wing"
            d="M33.9959 378.185L0 322.216C1.49096 319.276 3.11938 316.506 4.91699 313.598L13.4398 299.809L25.0925 280.776L36.4703 262.207L43.8088 250.449C50.978 249.466 58.2636 249.603 65.9828 249.772L70.7834 241.133L81.8123 222.163L92.0375 204.568L104.155 183.694L112.763 168.827L121.592 153.643L125.854 146.368L138.13 125.494L147.139 110.045L152.046 101.597L149.466 76.5887L154.002 68.5946L160.452 57.534L181.22 21.9308L189.003 8.59679L193.687 0.0211483L244.591 0L244.559 75.6476L233.636 75.8273L227.334 86.8562L214.666 109.104L199.534 135.508L189.722 152.617L179.475 170.752L155.44 212.868L148.176 225.515L143.587 233.583L138.003 243.544L126.15 264.248L93.1055 321.877L96.4258 327.45L103.384 338.659L130.295 338.764V409.061L52.5219 409.104L46.1351 398.35C43.058 392.968 39.4733 388.146 36.4703 382.7L33.9959 378.206V378.185Z"
          />

          {/* Right wing */}
          <path
            className="logo-path path-right-wing"
            d="M500.221 316.601C501.384 318.494 502.262 320.26 503.055 322.417L487.892 347.414L475.52 368.097L465.559 384.603L450.766 409.083L372.94 409.04L372.908 338.754L399.809 338.659L408.163 325.272C409.833 322.597 409.728 321.264 408.142 318.515L377.075 264.83L368.975 250.608L361.298 237.221L354.393 225.314L330.897 184.107L320.989 166.765L299.471 129.407L292.27 116.866L278.629 93.1055L268.615 75.8802L257.47 75.6158L257.449 0.0105591H307.814L315.3 13.0696L324.701 28.9097L338.479 52.3315L352.892 76.7155L350.999 95.6644C350.787 97.811 350.015 100.476 351.073 102.231L356.138 110.669L370.561 135.201L382.245 154.837L395.315 177.202L407.116 197.303L417.415 214.751L424.204 226.509L437.813 249.741L451.696 249.688C454.277 249.688 457.153 249.984 459.585 250.597L470.518 268.605L478.026 280.427L486.708 294.638L500.242 316.622L500.221 316.601Z"
          />

          {/* Center bar */}
          <path
            className="logo-path path-center"
            d="M348.44 316.442C348.863 319.615 349.825 325.832 345.839 325.811L320.767 325.663L161.224 325.769C158.94 325.769 156.952 325.779 155.271 325.631L155.144 316.485L247.636 316.506H276.007L312.667 316.464H348.44V316.442Z"
          />

          {/* Bottom left detail */}
          <path
            className="logo-path path-bottom-left"
            d="M34.2074 404.991C34.5035 405.477 34.8207 406.048 34.9476 406.281C35.1062 406.587 33.8796 407.169 33.5307 407.169L12.689 406.936L12.6573 388.622L12.5515 370.931C15.4383 374.431 17.2782 377.804 19.5833 381.474L27.9475 394.829L34.218 405.001L34.2074 404.991Z"
          />

          {/* Bottom right detail */}
          <path
            className="logo-path path-bottom-right"
            d="M482.319 407.063L467.928 407.095L488.061 374.992C488.981 373.522 489.605 372.369 490.652 370.995L490.62 406.735C487.934 407.148 485.174 407.063 482.298 407.074L482.319 407.063Z"
          />

          {/* Japanese text - white on black wings */}
          <path
            className="logo-path path-text-1"
            d="M170.911 340.183H208.981V348.803H170.911V340.183ZM168.907 367.813H210.523V376.51H168.907V367.813ZM193.645 343.955H202.431V408.681H193.645V343.955ZM176.305 344.186H184.937V370.276C184.937 373.457 184.808 376.818 184.551 380.359C184.295 383.848 183.781 387.337 183.01 390.826C182.291 394.263 181.212 397.573 179.773 400.754C178.386 403.935 176.485 406.757 174.07 409.22C173.557 408.656 172.889 408.04 172.067 407.373C171.245 406.706 170.371 406.039 169.446 405.372C168.573 404.756 167.802 404.269 167.134 403.91C169.19 401.652 170.808 399.138 171.99 396.367C173.223 393.596 174.147 390.697 174.764 387.67C175.381 384.592 175.792 381.564 175.997 378.588C176.203 375.612 176.305 372.816 176.305 370.199V344.186ZM139.082 340.03H167.212V348.342H139.082V340.03ZM147.791 363.734H166.287V399.292H147.791V391.21H158.426V371.893H147.791V363.734ZM148.099 344.109L156.422 345.956C155.498 350.83 154.316 355.679 152.877 360.502C151.439 365.325 149.718 369.84 147.714 374.048C145.71 378.255 143.372 381.949 140.701 385.13C140.598 384.309 140.367 383.206 140.007 381.821C139.648 380.436 139.237 379.05 138.774 377.665C138.312 376.228 137.875 375.074 137.464 374.201C140.187 370.559 142.396 366.095 144.092 360.81C145.787 355.525 147.123 349.958 148.099 344.109ZM143.784 363.734H151.413V404.987H143.784V363.734Z"
          />

          <path
            className="logo-path path-text-2"
            d="M221.466 377.049H266.472V385.592H221.466V377.049ZM261.386 377.049H271.096V396.29C271.096 397.522 271.225 398.291 271.482 398.599C271.739 398.907 272.252 399.061 273.023 399.061C273.229 399.061 273.511 399.061 273.871 399.061C274.23 399.061 274.616 399.061 275.027 399.061C275.489 399.061 275.9 399.061 276.26 399.061C276.671 399.061 276.979 399.061 277.185 399.061C277.75 399.061 278.187 398.83 278.495 398.368C278.803 397.855 279.009 396.803 279.111 395.213C279.265 393.622 279.394 391.21 279.497 387.978C280.165 388.542 281.012 389.081 282.04 389.594C283.067 390.107 284.146 390.569 285.277 390.98C286.407 391.39 287.383 391.724 288.205 391.98C287.948 396.187 287.434 399.471 286.664 401.831C285.944 404.192 284.917 405.834 283.581 406.757C282.245 407.681 280.447 408.143 278.187 408.143C277.775 408.143 277.262 408.143 276.645 408.143C276.029 408.143 275.386 408.143 274.719 408.143C274.051 408.143 273.408 408.143 272.792 408.143C272.175 408.143 271.687 408.143 271.328 408.143C268.81 408.143 266.806 407.783 265.316 407.065C263.878 406.347 262.85 405.141 262.234 403.448C261.669 401.755 261.386 399.394 261.386 396.367V377.049ZM246.744 336.258H256.3V348.496H246.744V336.258ZM237.419 349.265H247.129C246.769 352.549 246.178 355.525 245.356 358.193C244.534 360.81 243.224 363.144 241.426 365.197C239.628 367.249 237.136 369.045 233.951 370.584C230.765 372.072 226.629 373.304 221.543 374.278C221.132 373.15 220.464 371.841 219.539 370.353C218.615 368.865 217.69 367.685 216.765 366.813C221.132 366.095 224.6 365.222 227.169 364.196C229.789 363.17 231.793 361.964 233.18 360.579C234.567 359.142 235.543 357.5 236.109 355.653C236.725 353.755 237.162 351.625 237.419 349.265ZM255.452 349.65H264.623V361.656C264.623 362.683 264.777 363.324 265.085 363.58C265.394 363.786 266.113 363.888 267.243 363.888C267.5 363.888 267.885 363.888 268.399 363.888C268.964 363.888 269.581 363.888 270.249 363.888C270.917 363.888 271.533 363.888 272.098 363.888C272.715 363.888 273.177 363.888 273.485 363.888C274.102 363.888 274.564 363.786 274.873 363.58C275.181 363.324 275.412 362.811 275.566 362.041C275.72 361.272 275.849 360.117 275.952 358.578C276.517 359.04 277.262 359.501 278.187 359.963C279.163 360.374 280.165 360.758 281.192 361.118C282.22 361.425 283.144 361.656 283.966 361.81C283.658 364.53 283.144 366.633 282.425 368.121C281.757 369.558 280.781 370.584 279.497 371.2C278.212 371.764 276.542 372.046 274.487 372.046C274.025 372.046 273.383 372.046 272.561 372.046C271.79 372.046 270.968 372.046 270.095 372.046C269.221 372.046 268.399 372.046 267.628 372.046C266.858 372.046 266.241 372.046 265.779 372.046C263.005 372.046 260.847 371.739 259.305 371.123C257.815 370.456 256.788 369.378 256.223 367.89C255.709 366.351 255.452 364.299 255.452 361.733V349.65ZM218.306 343.031H285.2V358.116H275.489V351.266H227.631V358.809H218.306V343.031ZM241.811 368.583H251.059V378.665C251.059 380.872 250.854 383.104 250.443 385.361C250.032 387.619 249.235 389.876 248.054 392.134C246.872 394.392 245.202 396.572 243.044 398.676C240.887 400.728 238.061 402.627 234.567 404.371C231.125 406.167 226.861 407.706 221.774 408.989C221.106 407.86 220.156 406.578 218.923 405.141C217.741 403.704 216.637 402.473 215.609 401.447C220.182 400.318 224.009 399.035 227.092 397.598C230.226 396.162 232.769 394.674 234.721 393.135C236.674 391.544 238.138 389.928 239.114 388.286C240.142 386.593 240.835 384.925 241.195 383.283C241.606 381.59 241.811 379.974 241.811 378.434V368.583Z"
          />

          <path
            className="logo-path path-text-3"
            d="M293.985 340.183H328.202V348.496H293.985V340.183ZM334.522 362.426H364.809V371.354H334.522V362.426ZM348.779 368.66H357.873V408.681H348.779V368.66ZM330.9 343.262L341.997 345.802C341.894 346.571 341.201 347.059 339.916 347.264V364.735C339.916 367.865 339.762 371.328 339.454 375.125C339.146 378.871 338.503 382.744 337.527 386.747C336.602 390.697 335.19 394.546 333.289 398.291C331.439 402.037 328.973 405.449 325.89 408.527C325.531 407.86 324.94 407.116 324.118 406.295C323.296 405.474 322.422 404.679 321.498 403.91C320.624 403.191 319.828 402.652 319.109 402.293C321.78 399.574 323.887 396.624 325.428 393.442C327.021 390.261 328.202 387.003 328.973 383.668C329.795 380.333 330.309 377.049 330.514 373.817C330.771 370.533 330.9 367.454 330.9 364.581V343.262ZM296.451 354.345H305.237V374.048C305.237 376.613 305.16 379.435 305.005 382.514C304.851 385.541 304.517 388.619 304.004 391.749C303.49 394.879 302.771 397.906 301.846 400.831C300.921 403.756 299.714 406.398 298.224 408.758C297.761 408.194 297.068 407.552 296.143 406.834C295.218 406.116 294.268 405.423 293.291 404.756C292.367 404.089 291.596 403.576 290.979 403.217C292.675 400.446 293.908 397.368 294.679 393.981C295.449 390.543 295.937 387.106 296.143 383.668C296.348 380.179 296.451 376.947 296.451 373.971V354.345ZM356.254 337.105L364.346 344.032C361.623 345.366 358.643 346.623 355.407 347.803C352.17 348.932 348.882 349.958 345.542 350.881C342.203 351.805 338.94 352.652 335.755 353.421C335.549 352.344 335.113 351.087 334.445 349.65C333.828 348.162 333.237 346.956 332.672 346.033C335.549 345.263 338.426 344.416 341.303 343.493C344.232 342.569 346.981 341.569 349.55 340.491C352.17 339.363 354.405 338.234 356.254 337.105ZM301.537 354.345H326.661V380.589H301.537V372.354H317.721V362.58H301.537V354.345Z"
          />

          {/* Bottom English text */}
          <path
            className="logo-path path-bottom-text"
            d="M29.0328 421.134V425.109H23.3124V441.718H18.4093V425.109H12.689V421.134H29.0328ZM44.5211 432.836H37.3918V441.718H32.6014V421.134H37.3918V429.198H44.5211V421.134H49.3115V441.718H44.5211V432.836ZM58.3885 424.997V429.198H66.1941V432.836H58.3885V437.855H66.7576V441.718H53.598V421.134H66.7576V424.997H58.3885ZM84.4519 421.134V437.742H93.131V441.718H79.5205V421.134H84.4519ZM95.5859 441.718L102.546 421.134H107.618L114.55 441.718H109.478L108.266 437.263H101.757L100.574 441.718H95.5859ZM102.743 433.625H107.308L105.054 425.279H104.998L102.743 433.625ZM122.119 429.283H123.049C125.792 429.283 127.164 428.465 127.164 426.829C127.164 425.269 126.008 424.489 123.697 424.489C123.115 424.489 122.589 424.545 122.119 424.658V429.283ZM122.119 432.723V438.193C122.664 438.306 123.228 438.362 123.81 438.362C125.144 438.362 126.121 438.118 126.741 437.629C127.361 437.122 127.671 436.351 127.671 435.317C127.671 433.588 126.252 432.723 123.416 432.723H122.119ZM132.151 435.796C132.151 437.902 131.465 439.462 130.094 440.477C128.723 441.492 126.562 442 123.613 442C121.434 442 119.367 441.859 117.414 441.577V421.275C119.273 420.993 121.246 420.852 123.331 420.852C128.779 420.852 131.503 422.609 131.503 426.125C131.503 427.309 131.118 428.324 130.348 429.17C129.578 430.016 128.554 430.542 127.276 430.749V430.805C128.779 430.993 129.963 431.548 130.827 432.469C131.71 433.39 132.151 434.499 132.151 435.796ZM148.62 429.283H149.55C152.292 429.283 153.664 428.465 153.664 426.829C153.664 425.269 152.509 424.489 150.198 424.489C149.615 424.489 149.089 424.545 148.62 424.658V429.283ZM148.62 432.723V438.193C149.165 438.306 149.728 438.362 150.311 438.362C151.644 438.362 152.621 438.118 153.241 437.629C153.861 437.122 154.171 436.351 154.171 435.317C154.171 433.588 152.753 432.723 149.916 432.723H148.62ZM158.652 435.796C158.652 437.902 157.966 439.462 156.594 440.477C155.223 441.492 153.063 442 150.113 442C147.934 442 145.868 441.859 143.914 441.577V421.275C145.774 420.993 147.746 420.852 149.832 420.852C155.279 420.852 158.003 422.609 158.003 426.125C158.003 427.309 157.618 428.324 156.848 429.17C156.078 430.016 155.054 430.542 153.777 430.749V430.805C155.279 430.993 156.463 431.548 157.327 432.469C158.21 433.39 158.652 434.499 158.652 435.796ZM164.452 421.134L168.453 429.959H168.51L172.511 421.134H177.865L170.877 433.823V441.718H165.946V433.823L158.985 421.134H164.452ZM190.897 423.7C192.794 421.801 195.33 420.852 198.505 420.852C201.68 420.852 204.207 421.801 206.085 423.7C207.983 425.598 208.931 428.174 208.931 431.426C208.931 434.678 207.983 437.253 206.085 439.152C204.207 441.051 201.68 442 198.505 442C195.33 442 192.794 441.051 190.897 439.152C189.018 437.253 188.079 434.678 188.079 431.426C188.079 428.174 189.018 425.598 190.897 423.7ZM194.419 436.36C195.396 437.488 196.758 438.052 198.505 438.052C200.252 438.052 201.605 437.488 202.563 436.36C203.54 435.232 204.028 433.588 204.028 431.426C204.028 429.264 203.54 427.619 202.563 426.491C201.605 425.363 200.252 424.799 198.505 424.799C196.758 424.799 195.396 425.363 194.419 426.491C193.461 427.619 192.982 429.264 192.982 431.426C192.982 433.588 193.461 435.232 194.419 436.36ZM216.646 434.105V441.718H211.94V421.275C214.006 420.993 216.261 420.852 218.703 420.852C221.521 420.852 223.615 421.387 224.987 422.459C226.377 423.512 227.072 425.015 227.072 426.97C227.072 428.23 226.706 429.367 225.973 430.382C225.24 431.379 224.273 432.093 223.071 432.525V432.582C224.047 433.127 224.846 434.246 225.466 435.937L227.636 441.718H222.704L220.76 436.135C220.497 435.345 220.177 434.809 219.802 434.527C219.426 434.246 218.844 434.105 218.055 434.105H216.646ZM216.646 430.58H218.224C219.539 430.58 220.544 430.307 221.239 429.762C221.934 429.198 222.282 428.418 222.282 427.422C222.282 425.467 220.995 424.489 218.421 424.489C217.745 424.489 217.153 424.545 216.646 424.658V430.58ZM247.613 431.144C247.613 434.603 246.655 437.281 244.739 439.18C242.841 441.06 240.164 442 236.708 442C234.622 442 232.65 441.859 230.79 441.577V421.275C232.65 420.993 234.622 420.852 236.708 420.852C240.164 420.852 242.841 421.763 244.739 423.587C246.655 425.391 247.613 427.91 247.613 431.144ZM243.048 431.144C243.048 426.782 241.057 424.602 237.074 424.602C236.529 424.602 236.003 424.658 235.496 424.771V438.08C236.003 438.193 236.529 438.25 237.074 438.25C241.057 438.25 243.048 435.881 243.048 431.144ZM251.054 441.718V421.134H256.323V441.718H251.054ZM261.033 441.718V421.134H265.711L273.009 433.766H273.065V421.134H277.743V441.718H273.065L265.767 429.085H265.711V441.718H261.033ZM280.621 441.718L287.581 421.134H292.653L299.585 441.718H294.513L293.301 437.263H286.792L285.608 441.718H280.621ZM287.778 433.625H292.343L290.089 425.279H290.032L287.778 433.625ZM307.154 434.105V441.718H302.448V421.275C304.515 420.993 306.769 420.852 309.211 420.852C312.029 420.852 314.124 421.387 315.495 422.459C316.885 423.512 317.58 425.015 317.58 426.97C317.58 428.23 317.214 429.367 316.481 430.382C315.749 431.379 314.781 432.093 313.579 432.525V432.582C314.556 433.127 315.354 434.246 315.974 435.937L318.144 441.718H313.213L311.268 436.135C311.005 435.345 310.686 434.809 310.31 434.527C309.935 434.246 309.352 434.105 308.563 434.105H307.154ZM307.154 430.58H308.732C310.047 430.58 311.052 430.307 311.747 429.762C312.442 429.198 312.79 428.418 312.79 427.422C312.79 425.467 311.503 424.489 308.93 424.489C308.253 424.489 307.661 424.545 307.154 424.658V430.58ZM323.812 421.134L327.813 429.959H327.87L331.871 421.134H337.225L330.237 433.823V441.718H325.305V433.823L318.345 421.134H323.812ZM358.711 424.715C356.738 424.715 355.179 425.307 354.033 426.491C352.906 427.675 352.342 429.32 352.342 431.426C352.342 433.494 352.934 435.129 354.117 436.332C355.301 437.535 356.832 438.137 358.711 438.137C360.345 438.137 361.961 437.62 363.557 436.586L364.91 440.082C363.031 441.361 360.805 442 358.232 442C354.963 442 352.342 441.051 350.37 439.152C348.416 437.253 347.439 434.678 347.439 431.426C347.439 428.136 348.388 425.551 350.285 423.671C352.201 421.791 354.85 420.852 358.232 420.852C360.805 420.852 363.031 421.491 364.91 422.769L363.557 426.266C361.961 425.232 360.345 424.715 358.711 424.715ZM369.63 423.7C371.527 421.801 374.063 420.852 377.238 420.852C380.413 420.852 382.94 421.801 384.818 423.7C386.716 425.598 387.664 428.174 387.664 431.426C387.664 434.678 386.716 437.253 384.818 439.152C382.94 441.051 380.413 442 377.238 442C374.063 442 371.527 441.051 369.63 439.152C367.751 437.253 366.812 434.678 366.812 431.426C366.812 428.174 367.751 425.598 369.63 423.7ZM373.152 436.36C374.129 437.488 375.491 438.052 377.238 438.052C378.985 438.052 380.338 437.488 381.296 436.36C382.273 435.232 382.761 433.588 382.761 431.426C382.761 429.264 382.273 427.619 381.296 426.491C380.338 425.363 378.985 424.799 377.238 424.799C375.491 424.799 374.129 425.363 373.152 426.491C372.194 427.619 371.715 429.264 371.715 431.426C371.715 433.588 372.194 435.232 373.152 436.36ZM406.876 429.114H406.819L403.212 437.009H398.873L395.266 429.114H395.21V441.718H390.673V421.134H395.576L401.014 433.259H401.071L406.509 421.134H411.525V441.718H406.876V429.114ZM415.797 421.275C417.751 420.993 419.817 420.852 421.997 420.852C428.008 420.852 431.014 423.089 431.014 427.563C431.014 429.988 430.309 431.83 428.9 433.089C427.51 434.33 425.463 434.95 422.757 434.95C422.081 434.95 421.33 434.913 420.503 434.838V441.718H415.797V421.275ZM420.503 431.285C421.104 431.379 421.696 431.426 422.278 431.426C423.631 431.426 424.674 431.116 425.406 430.495C426.158 429.856 426.533 428.973 426.533 427.845C426.533 425.608 425.115 424.489 422.278 424.489C421.658 424.489 421.067 424.545 420.503 424.658V431.285ZM430.487 441.718L437.447 421.134H442.519L449.451 441.718H444.379L443.167 437.263H436.658L435.474 441.718H430.487ZM437.644 433.625H442.209L439.955 425.279H439.898L437.644 433.625ZM452.314 441.718V421.134H456.992L464.29 433.766H464.347V421.134H469.025V441.718H464.347L457.048 429.085H456.992V441.718H452.314ZM477.228 421.134L481.229 429.959H481.286L485.287 421.134H490.641L483.653 433.823V441.718H478.721V433.823L471.761 421.134H477.228Z"
          />

          {/* Center emblem */}
          <path
            className="logo-path path-emblem"
            d="M328.552 262.078C329.09 262.347 329.594 262.654 329.637 263.077C329.692 263.598 329.32 264.111 328.757 264.38L298.063 278.821C297.316 279.171 296.577 279.137 295.868 278.855L288.432 275.917C287.778 275.656 287.167 275.43 286.672 276.134L292.421 281.397C292.592 281.555 292.818 282.016 292.831 282.238C292.848 282.503 292.519 283.075 292.212 283.22L254.398 300.857C252.562 301.711 251.208 301.651 249.388 300.805L211.613 283.156C211.352 283.037 211.015 282.477 211.024 282.238C211.032 281.999 211.271 281.542 211.51 281.32L216.867 276.382C217.008 276.254 217.042 275.891 216.939 275.806C216.807 275.699 216.324 275.601 216.149 275.669L207.961 278.894C207.188 279.197 206.552 279.12 205.787 278.761L174.816 264.158C174.543 264.03 174.286 263.346 174.346 263.077C174.415 262.761 174.855 262.394 175.247 262.202L185.951 256.858L172.189 252.057C171.899 251.955 171.463 251.558 171.344 251.323C171.203 251.049 171.437 250.383 171.719 250.114L184.653 237.714L185.597 237.339L186.515 232.807C186.908 230.863 187.929 226.686 190.381 226.673C190.466 226.071 190.547 225.272 190.692 224.614L192.832 214.949L197.014 211.344L190.65 201.789C190.218 201.14 189.654 200.102 189.654 199.286L189.646 179.271C189.646 178.438 190.257 177.532 190.774 177.148C191.483 176.618 192.491 176.456 193.413 176.746L215.205 183.589C216.487 183.99 217.29 185.114 218.105 186.049L223.833 192.618L225.482 192.042L224.239 190.026C224.153 189.889 224.051 189.479 224.081 189.321C224.119 189.12 224.487 188.826 224.717 188.753L235.827 185.208H268.019L279.492 188.783C280.098 188.971 280.077 189.791 279.778 190.214L278.595 191.88C278.971 192.29 279.688 192.567 280.261 192.529L286.856 185.016C287.492 184.289 288.308 183.738 289.273 183.439L310.873 176.704C312.714 176.131 314.371 177.793 314.371 179.45V199.06C314.371 200.448 313.461 201.674 312.744 202.754L307.05 211.297L311.262 215.038L313.226 224.072L313.671 226.631C316.139 227.113 316.951 230.5 317.416 232.666L318.386 237.146L319.232 237.672L332.144 250.007C332.468 250.319 332.733 250.849 332.682 251.148C332.631 251.447 332.187 251.951 331.858 252.066L318.104 256.845L328.56 262.103L328.552 262.078Z"
          />

          {/* Inner face details - white on the emblem */}
          <path
            className="logo-path path-inner-1"
            fill="white"
            d="M263.731 288.073C261.723 287.953 254.505 288.914 254.108 286.68C253.869 285.331 253.954 284.015 253.847 282.571L249.96 282.58L249.888 286.266C249.871 287.223 248.931 287.906 247.949 287.992C245.399 288.209 242.968 288.171 240.32 288.103L220.544 272.572C221.407 271.082 222.526 270.36 223.555 269.318L226.08 266.768L242.516 253.087L245.386 250.887L249.021 261.728L254.902 261.698L258.554 250.861L260.246 252.309C261.681 253.544 263.18 254.616 264.431 256.042C265.35 257.089 266.61 257.666 267.69 258.58L275.618 265.303C276.904 266.392 278.168 267.302 279.394 268.404C280.85 269.711 282.337 270.642 283.336 272.555C282.542 273.324 281.743 274.101 280.803 274.828L263.727 288.077L263.731 288.073Z"
          />

          <path
            className="logo-path path-inner-2"
            fill="white"
            d="M286.334 254.573L277.288 254.624L271.573 249.072L271.586 243.822L276.899 238.513L286.39 238.475L291.849 243.904L291.879 249.033L286.334 254.573Z"
          />

          <path
            className="logo-path path-inner-3"
            fill="white"
            d="M224.482 256.619L218.174 256.623L218.131 249.337L210.28 249.311L210.267 243.254L218.127 243.22L218.186 235.985L224.482 236.04L224.533 243.237L232.388 243.246L232.435 249.285L224.551 249.354L224.482 256.619Z"
          />

          <path
            className="logo-path path-inner-4"
            fill="white"
            d="M257.961 279.889L246.616 279.906C245.975 279.906 244.724 279.722 244.331 279.248L242.537 273.286C242.349 272.658 242.037 271.616 242.49 271.069C243.776 269.514 245.07 267.84 246.202 266.212C246.415 265.909 247.338 265.661 247.714 265.661L256.41 265.683C257.354 265.683 257.773 266.259 258.221 266.917C259.152 268.28 260.135 269.471 261.22 270.748C261.6 271.197 261.766 271.936 261.595 272.512L259.742 278.877C259.584 279.415 258.678 279.885 257.961 279.889Z"
          />

          {/* Decorative elements - white */}
          <path
            className="logo-path path-deco-1"
            fill="white"
            d="M101.627 236.163C100.944 234.365 101.222 232.388 102.462 230.232C103.702 228.076 105.267 226.849 107.156 226.55C109.054 226.236 111.462 226.919 114.381 228.597C117.299 230.276 119.1 232.014 119.784 233.813C120.475 235.596 120.201 237.566 118.961 239.722C117.721 241.878 116.152 243.112 114.254 243.426C112.365 243.725 109.961 243.035 107.042 241.357C104.124 239.678 102.319 237.947 101.627 236.163ZM113.787 239.352C114.838 239.39 115.617 238.97 116.123 238.09C116.629 237.21 116.597 236.332 116.027 235.458C115.465 234.569 114.187 233.55 112.192 232.403C110.197 231.256 108.675 230.663 107.623 230.624C106.58 230.571 105.806 230.984 105.3 231.864C104.794 232.744 104.822 233.629 105.384 234.518C105.954 235.393 107.237 236.404 109.231 237.551C111.226 238.698 112.744 239.298 113.787 239.352Z"
          />

          <path
            className="logo-path path-deco-2"
            fill="white"
            d="M107.685 221.66L114.176 210.375L117.19 212.109C118.534 214.522 119.947 216.749 121.427 218.791C122.907 220.833 124.721 223.057 126.869 225.464L124.566 229.467C120.819 224.989 117.71 220.4 115.241 215.701L115.153 215.65L110.699 223.394L107.685 221.66Z"
          />

          <path
            className="logo-path path-deco-3"
            fill="white"
            d="M127.014 213.708L124.199 212.088L128.463 204.675L131.279 206.294L127.014 213.708Z"
          />

          <path
            className="logo-path path-deco-4"
            fill="white"
            d="M135.116 204.153C134.563 199.99 134.005 197.142 133.443 195.609C132.875 194.052 132.077 192.979 131.05 192.388C129.701 191.612 128.596 191.972 127.736 193.468C127.044 194.671 126.754 196.397 126.865 198.647L123.329 197.872C123.261 196.837 123.376 195.703 123.676 194.47C123.969 193.214 124.394 192.102 124.95 191.134C125.971 189.359 127.181 188.24 128.58 187.776C129.964 187.304 131.404 187.498 132.9 188.358C134.191 189.1 135.194 190.224 135.909 191.728C136.619 193.21 137.28 195.708 137.893 199.222L137.937 199.248L141.442 193.154L144.456 194.888L138.129 205.887L135.116 204.153Z"
          />

          <path
            className="logo-path path-deco-5"
            fill="white"
            d="M132.37 182.713C131.687 180.915 131.965 178.938 133.205 176.782C134.445 174.626 136.01 173.399 137.899 173.1C139.797 172.786 142.206 173.469 145.124 175.147C148.043 176.826 149.843 178.565 150.527 180.363C151.218 182.146 150.944 184.116 149.704 186.272C148.464 188.428 146.895 189.663 144.997 189.976C143.108 190.275 140.704 189.585 137.785 187.907C134.867 186.228 133.062 184.497 132.37 182.713ZM144.53 185.902C145.582 185.94 146.36 185.52 146.866 184.64C147.372 183.76 147.34 182.883 146.77 182.008C146.208 181.119 144.93 180.1 142.935 178.953C140.941 177.806 139.418 177.213 138.366 177.174C137.324 177.121 136.549 177.534 136.043 178.414C135.537 179.294 135.565 180.179 136.127 181.068C136.697 181.943 137.98 182.954 139.974 184.101C141.969 185.248 143.487 185.848 144.53 185.902Z"
          />

          <path
            className="logo-path path-deco-6"
            fill="white"
            d="M151.575 175.538C151.022 171.375 150.464 168.527 149.902 166.993C149.333 165.437 148.536 164.363 147.509 163.773C146.16 162.997 145.055 163.357 144.195 164.852C143.503 166.055 143.213 167.781 143.324 170.031L139.788 169.256C139.72 168.222 139.835 167.088 140.135 165.855C140.428 164.598 140.853 163.486 141.409 162.518C142.43 160.744 143.64 159.625 145.039 159.161C146.423 158.688 147.863 158.882 149.359 159.742C150.65 160.485 151.653 161.608 152.368 163.113C153.077 164.594 153.739 167.092 154.352 170.607L154.396 170.632L157.901 164.539L160.915 166.272L154.588 177.271L151.575 175.538Z"
          />

          <path
            className="logo-path path-deco-7"
            fill="white"
            d="M155.758 145.055L152.075 151.457L154.979 153.331L155.004 153.287C155.099 152.444 155.357 151.656 155.779 150.923C156.724 149.28 157.893 148.264 159.288 147.876C160.682 147.487 162.179 147.753 163.777 148.672C167.561 150.849 168.158 154.188 165.568 158.69C164.624 160.333 163.43 161.696 161.987 162.779L159.46 160.301C160.911 159.203 161.928 158.148 162.51 157.136C163.75 154.98 163.468 153.384 161.664 152.346C160.198 151.503 159.043 151.814 158.199 153.281C157.828 153.926 157.74 154.724 157.934 155.675L156.099 158.865L147.113 153.111L152.744 143.322L155.758 145.055Z"
          />

          <path
            className="logo-path path-deco-8"
            fill="white"
            d="M350.091 147.493L346.813 149.378L350.319 155.472L347.481 157.104L343.976 151.011L340.06 153.263L343.818 159.797L340.805 161.53L334.895 151.257L350.954 142.02L356.863 152.293L353.85 154.026L350.091 147.493Z"
          />

          <path
            className="logo-path path-deco-9"
            fill="white"
            d="M351.994 167.138L351.969 167.094L344.467 167.896L342.1 163.782L352.732 163.434L358.222 154.655L360.588 158.768L356.331 164.702L356.356 164.746L363.625 164.048L365.941 168.073L355.592 168.405L349.946 177.421L347.529 173.22L351.994 167.138Z"
          />

          <path
            className="logo-path path-deco-10"
            fill="white"
            d="M367.317 170.719C368.414 172.117 369.452 173.667 370.431 175.369C373.13 180.061 372.735 183.412 369.245 185.42C367.353 186.508 365.599 186.785 363.984 186.25C362.392 185.722 360.988 184.402 359.773 182.29C359.47 181.762 359.161 181.158 358.849 180.479L353.481 183.567L351.368 179.893L367.317 170.719ZM361.621 178.885C361.817 179.396 362.046 179.879 362.308 180.334C362.915 181.39 363.626 182.065 364.439 182.358C365.275 182.658 366.133 182.555 367.012 182.049C368.758 181.045 368.993 179.435 367.719 177.221C367.441 176.737 367.131 176.3 366.79 175.911L361.621 178.885Z"
          />

          <path
            className="logo-path path-deco-11"
            fill="white"
            d="M364.012 190.371L366.828 188.752L371.093 196.165L368.277 197.785L364.012 190.371Z"
          />

          <path
            className="logo-path path-deco-12"
            fill="white"
            d="M379.882 196.277C381.78 196.59 383.349 197.825 384.589 199.981C385.829 202.137 386.103 204.106 385.412 205.89C384.729 207.688 382.928 209.427 380.01 211.106C377.091 212.784 374.683 213.467 372.785 213.154C370.896 212.855 369.331 211.627 368.091 209.472C366.85 207.316 366.572 205.339 367.255 203.54C367.947 201.757 369.752 200.026 372.67 198.347C375.588 196.668 377.992 195.978 379.882 196.277ZM371.012 205.185C370.45 206.075 370.422 206.959 370.928 207.839C371.434 208.719 372.209 209.132 373.252 209.079C374.303 209.04 375.826 208.447 377.82 207.3C379.815 206.153 381.093 205.134 381.655 204.245C382.225 203.37 382.257 202.493 381.751 201.613C381.245 200.733 380.466 200.313 379.415 200.351C378.372 200.405 376.854 201.005 374.859 202.152C372.865 203.3 371.582 204.311 371.012 205.185Z"
          />

          <path
            className="logo-path path-deco-13"
            fill="white"
            d="M389.372 208.805L395.864 220.09L392.85 221.824C390.089 221.773 387.453 221.874 384.944 222.127C382.435 222.379 379.6 222.829 376.44 223.476L374.137 219.473C379.892 218.484 385.422 218.104 390.725 218.333L390.813 218.282L386.359 210.539L389.372 208.805Z"
          />

          <path
            className="logo-path path-deco-14"
            fill="white"
            d="M384.227 237.014L395.952 230.269L395.927 230.225L390.577 228.559L393.074 225.571L400.286 227.776L402.513 231.647L386.454 240.885L384.227 237.014Z"
          />
        </svg>
      </div>

      {/* Loading indicator */}
      <div className={`loading-bar-container ${isFlying ? "loader-fade-out" : ""}`}>
        <div className="loading-bar" />
      </div>

      {/* Sparkle effects */}
      <div className={`sparkles ${isFlying ? "loader-fade-out" : ""}`}>
        {[...Array(12)].map((_, i) => (
          <div key={i} className={`sparkle sparkle-${i + 1}`} />
        ))}
      </div>
    </div>
  );
}
